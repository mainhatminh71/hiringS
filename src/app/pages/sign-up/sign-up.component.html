<app-entry-form 
  *ngIf="formConfig$ | async as config"
  [title]="config.title"
  [subtitle]="config.subtitle"
  [maxWidth]="config.maxWidth">
  
  <form  class="space-y-6">
    <ng-container *ngFor="let field of config.fields">
      <ng-container [ngSwitch]="field.type">
        
        <div *ngSwitchCase="'input'" [class]="field.class || ''">
          <app-input 
            [config]="field.config!" 
            (valueChange)="onFieldValueChange(field.id, $event)">
          </app-input>
        </div>

        <div *ngSwitchCase="'divider'" class="relative my-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">{{ field.text || field.label }}</span>
          </div>
        </div>

      </ng-container>
    </ng-container>

    <div *ngIf="config.socialButtons && config.socialButtons.length > 0" class="space-y-3">
      <button
        *ngFor="let button of config.socialButtons"
        type="button"
        [disabled]="button.disabled"
        [style.backgroundColor]="button.backgroundColor"
        [style.color]="button.color"
        [class]="button.class || 'w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium transition-colors'"
        [style.hover.background-color]="button.hoverColor"
        (click)="button.onClick && button.onClick()">
        <nz-icon 
          *ngIf="button.icon && isIconObject(button.icon)" 
          [nzType]="button.icon.nzType" 
          [nzTheme]="button.icon.nzTheme"
          class="mr-2">
        </nz-icon>
        {{ button.label || 'Continue with ' + button.provider }}
      </button>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
      {{ config.submitLabel || 'Submit' }}
    </button>
  </form>
</app-entry-form>