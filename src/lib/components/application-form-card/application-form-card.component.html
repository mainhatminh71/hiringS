<div class="relative w-full h-full group">
  <a 
    [routerLink]="routerLink" 
    class="app-form-card">
    <nz-card
      [nzBordered]="variant === 'default'"
      [nzBodyStyle]="{ padding: '0', height: '100%' }"
      class="app-form-card__container"
      [class.app-form-card__container--dashed]="variant === 'dashed'"
      [nzHoverable]="variant === 'default'">
      <div class="app-form-card__body">
        <div class="app-form-card__content">
          <ng-content></ng-content>
        </div>
        <div *ngIf="showSwatch" class="app-form-card__aside" aria-hidden="true">
          <span class="app-form-card__swatch" [style.backgroundColor]="themeColor || '#6366f1'"></span>
        </div>
      </div>
    </nz-card>
  </a>

  <!-- Checkbox Overlay -->
  <div 
    *ngIf="selectable" 
    class="checkbox-overlay absolute top-3 right-3 z-20 transition-opacity duration-200"
    [class.opacity-0]="!selected" 
    [class.group-hover:opacity-100]="true"
    (click)="onCheckboxAreaClick($event)"
    (mousedown)="onCheckboxAreaClick($event)">
    <label 
      nz-checkbox 
      [ngModel]="selected" 
      (ngModelChange)="onSelectedChange($event)"
      (click)="onCheckboxAreaClick($event)"
      (mousedown)="onCheckboxAreaClick($event)">
    </label>
  </div>
</div>